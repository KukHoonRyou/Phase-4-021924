---

title: 'flask_routes'

---

# Flask Routes

---

## Getting JSON from the request

- It all depends on the content type passed into the request

---

- `request.form`: key/value pairs in the HTML POST form that isn't JSON encoded
- `request.form['key']` if key definitely exists
- `request.form.get('key')` if key may not exist

---

- `request.values`: multipurpose for args and form, especially if they overlap

---

- ➡️ `request.get_json()`: parse json data ⬅️

---

- `request.args`: key value pairs in the URL query string
<img src='https://static.semrush.com/blog/uploads/media/00/6e/006eebc38b54220916caecfc80fed202/Guide-to-URL-Parameters-2.png' width="500px">

---

## Creating JSON responses

- `jsonify()`: adds header for JSON
- `make_response()`: allows you to add custom headers

<aside class="notes">
- `json.dumps()` does not automatically add an application/json header, and you need to provide how to serialize 
- `jsonify()` will add the header for you, and you need to provide how to serialize, you can return `jsonify()` immediately without `make_response`
- `to_dict()` is enabled by flask-serialize
- `make_response` allows you to add custom headers - mostly used for returning Flask views

best way to do it is with `make_response(jsonify())` or just `jsonify()`
</aside>

